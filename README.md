# AROSYS

[![Build Status](https://travis-ci.com/cyberbotics/AROSYS.svg?token=F34e6fzg7bnX1UAbdRpa&branch=master)](https://travis-ci.com/cyberbotics/AROSYS)
[![Safety](https://img.shields.io/badge/safety-secure-brightgreen.svg)](https://app.gitguardian.com)
[![Software License](https://img.shields.io/badge/license-Apache--2.0-brightgreen.svg)](LICENSE) 

## Components
The following components are new components for RobMoSys in order to be able to use them with the [Webots simulator](https://cyberbotics.com).

### ComponentWebots
This component allows the user to use Webots simulator instead of Gazebo, PlayerStage, etc. There exists a pre-requirement to use Webots. You have to execute this command once in a Terminal and restart the computer/Virtual Machine. Don't forget to adapt the path if necessary.
`echo -e "export WEBOTS_HOME=/home/smartsoft/SOFTWARE/webots" >> ~/.profile`

![ComponentWebots](ComponentWebots/model/ComponentWebotsComponentDefinition.jpg)

### ComponentWebotsRobots

This Component provides sensors raw data and it updates the robot controller. One must "Enable" the available sensor in component parameters. 
![ComponentWebotsRobots](ComponentWebotsRobot/model/ComponentWebotsRobotComponentDefinition.jpg)

### ComponentWebotsBumper

This component configures bumper's sensors in SmartSoft according to Webots prototype sensors and provides the bumper value.

![ComponentWebotsBumper](ComponentWebotsBumper/model/ComponentWebotsBumperComponentDefinition.jpg)

| Input  | Output |
| ------ | ------ |
|   | **BumperEventServiceOut**: bumber value |


### ComponentWebotsLidar

This component configures lidar's sensors in SmartSoft according to Webots prototype sensors and provides the sensor's data.

![ComponentWebotsLidar](ComponentWebotsLidar/model/ComponentWebotsLidarComponentDefinition.jpg)

| Input  | Output |
| ------ | ------ |
| **BaseStateServiceIn**: state of the robot base (position and orientation) | **LaserServiceOut**: lidar values |

> **Note** : It is important to mentionned that the lidar range has to be under 65.535 meter otherwise it will be set at 65 meter because the variable type to store the value is `short`. This comes from source files generated by SmartMDSD. Maintainers will be alerted to this problem so that it can be improved.

### ComponentWebotsPioneer3DX
This component configures in SmartSoft the [Pioneer 3-DX](https://cyberbotics.com/doc/guide/pioneer-3dx) robot from Adept according to Webots prototype robot.

![ComponentWebotsPioneer3DX](ComponentWebotsPioneer3DX/model/ComponentWebotsPioneer3DXComponentDefinition.jpg)

| Inputs  | outputs |
| ------- | ------- |
| **LocalizationUpdateServiceIn**: not implemented yet | **BatteryEventServiceOut**: not implemented yet |
| **NavigationVelocityServiceIn**: velocity commands (linear velocities and turnrate) | **BaseStateServiceOut**: state of the robot base (position and orientation) |

### ComponentWebotsRobotino3
This component configures in SmartSoft the [Robotino 3](https://cyberbotics.com/doc/guide/robotino3) robot from Festo according to Webots prototype robot.

![ComponentWebotsRobotino3](ComponentWebotsRobotino3/model/ComponentWebotsRobotino3ComponentDefinition.jpg)

| Inputs  | outputs |
| ------- | ------- |
| **LocalizationUpdateServiceIn**: not implemented yet | **BatteryEventServiceOut**: not implemented yet |
| **NavigationVelocityServiceIn**: velocity commands (linear velocities and turnrate) | **BaseStateServiceOut**: state of the robot base (position and orientation) |

### ComponentWebotsTIAGo
This component configures in SmartSoft all versions of TIAGo's  robot from Pal Robotics according to Webots prototype robot.

![ComponentWebotsTIAGo](ComponentWebotsTIAGo/model/ComponentWebotsTIAGoComponentDefinition.jpg)

| Inputs  | outputs |
| ------- | ------- |
| **LocalizationUpdateServiceIn**: not implemented yet | **BatteryEventServiceOut**: not implemented yet |
| **NavigationVelocityServiceIn**: velocity commands (linear velocities and turnrate) | **BaseStateServiceOut**: state of the robot base (position and orientation) |
